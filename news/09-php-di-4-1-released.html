<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">

    <title>PHP-DI - The Dependency Injection Container for humans</title>
    <meta name="description" content="PHP-DI is a Dependency Injection Container for PHP that intends to be practical and powerful">

    <link rel="canonical" href="http://php-di.org" />

            <link href="http://php-di.org/css/bootstrap-theme_venera.min.css" media="all" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Abel:400|Oswald:300,400,700" media="all" rel="stylesheet" type="text/css">
        <link href="http://php-di.org/css/highlight.github.css" rel="stylesheet">
        <link href="http://php-di.org/css/custom.css" rel="stylesheet">
    
    <script>
        if (window.location.href.indexOf('http://mnapoli.fr') === 0) {
            window.location.href = 'http://php-di.org';
        }
    </script>
</head>
<body>

    <header id='header'>
        <div class='navbar navbar-fixed-top'>
            <div class='navbar-inner'>
                <div class='container'>
                    <a class='btn btn-navbar' data-target='.nav-collapse' data-toggle='collapse'>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                    </a>
                    <a href="http://php-di.org/index.html" class="brand">PHP-DI</a>

                    <div class='nav-collapse subnav-collapse collapse pull-right' id='top-navigation'>
                        <ul class='nav'>
                            <li><a href="http://php-di.org/">Home</a></li>
                            <li><a href="http://php-di.org/news/">News</a></li>
                            <li><a href="http://php-di.org/doc/getting-started.html">Getting started</a></li>
                            <li><a href="http://php-di.org/doc/">Documentation</a></li>
                            <li><a href="http://php-di.org/change-log.html">Change log</a></li>
                            <li><a href="https://github.com/mnapoli/PHP-DI"><i class="icon-github"></i> Github</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    
    <section class='section-wrapper post-w'>
        <div class='container'>
            <div class='row'>

                <div class='span8'>

                    
    <div class='single-post-w'>
        <h1 class='post-title'>PHP-DI 4.1 released</h1>

        <p class='post-info'>
            <span class='info-item'>
              Posted by Matthieu Napoli
            </span>
            <span class='info-item'>April 16th 2014</span>
        </p>
        <div class='post-content'>
            <p>I am happy to announce that PHP-DI version 4.1 has been released.</p>
<p>This version was focused on stability and documentation improvements, with full backward compatibility.</p>
<h2>Container-Interop 1.0 compatibility</h2>
<p>If you haven't heard of <a href="https://github.com/container-interop/container-interop">container-interop</a>
yet, it's a project that tries to improve interoperability between containers and frameworks.
It is inspired by PSRs from the PHP-FIG (and hopefully will become a PSR some day).</p>
<p>The first release introduced a <code>ContainerInterface</code> that was exactly the same as
PHP-DI's <code>ContainerInterface</code> introduced in v4.0. That was of course planned, so that from v4.1 and up
<code>DI\ContainerInterface</code> is deprecated in favor of
<a href="https://github.com/container-interop/container-interop/blob/master/src/Interop/Container/ContainerInterface.php"><code>Interop\Container\ContainerInterface</code></a>:</p>
<pre><code class="language-php">namespace Interop\Container;

interface ContainerInterface
{
    public function get($id);

    public function has($id);
}</code></pre>
<p>PHP-DI's interface now extends this standard interface, which means there is no BC-break and code using
<code>DI\ContainerInterface</code> still works.</p>
<p>However, if you use <code>Interop\Container\ContainerInterface</code> when using the container <strong>your code will not
be coupled to PHP-DI</strong>. That is extremely good news: it will allow you (or your framework) to switch
the container and use another library anytime without impact on your codebase (except your container
configuration of course).</p>
<p>This is a very similar situation to PSR-3 and the <code>LoggerInterface</code> it you have ever used it.</p>
<h2>Better exception messages</h2>
<p>Errors when using a DI container are embarrassing: given you never (should) use the container directly,
you never expect an exception from the container. It always comes out of nowhere with cryptic messages
and it takes you several seconds to understand what's happening.</p>
<p>To ease this, exception messages have been improved, especially when there is an error while building
an object.</p>
<p>Now the whole configuration for the object will be dumped in the exception message, which makes it much
easier to debug. Here is an example:</p>
<pre><code>Entry Acme\Store\ProductServiceInterface cannot be resolved: The parameter 'mailer' of Acme\Store\ProductService::__construct has no value defined or guessable

Definition of Acme\Store\ProductServiceInterface:
Object (
    class = Acme\Store\ProductService
    scope = singleton
    lazy = false
    __construct(
        $logger = link(Psr\Log\LoggerInterface)
        $mailer = #UNDEFINED#
    )
)</code></pre>
<p>Now you can clearly see that the <code>$logger</code> parameter was correctly defined (or recognized)
but the <code>$mailer</code> parameter wasn't.</p>
<h2>Better Symfony 2 documentation</h2>
<p>PHP-DI 4.0 works perfectly in Symfony 2 but the documentation about this integration was not really extensive.</p>
<p>This has been worked upon so that you can feel much more confident trying PHP-DI in Symfony.</p>
<p><a href="http://php-di.org/doc/frameworks/symfony2.html">Have a look at the documentation</a></p>
<h2>HHVM support</h2>
<p><a href="http://hhvm.com">HHVM</a> is the new cool kid in town: it runs PHP much faster than the classic
PHP Zend Engine.</p>
<p>Starting from version 4.1, PHP-DI's tests are all green on HHVM. That doesn't necessarily means that
there is 100% certainty that there is no bug, but it means that any bug found while running
in HHVM will be fixed.</p>
<p>In short: <strong>HHVM is officially supported</strong>.</p>
<p>What about <a href="http://hacklang.org">Hack</a>? HHVM support doesn't mean Hack support.
I honestly have no idea how PHP-DI behaves with Hack code but I guess it might not work.
If you are interested in working on this, get in touch!</p>
<h2>Change log</h2>
<p>You can also read the complete <a href="../change-log.html">change log</a>.</p>
        </div>
    </div>

    <div class='post-comments-w'>
        <h3 class='section-header'>
            Comments
        </h3>
        <div id="disqus_thread"></div>
        <noscript>
            Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
    </div>


                </div>

                <div class='span4'>
                    <div class='blog-side-bar'>

                        <div class='blog-categories widget-tp'>
                            <h3>
                                <i class='icon-th-list'></i>
                                All posts
                            </h3>
                            <ul>
                                <li>
                                    <a href="http://php-di.org/news/13-php-di-4-4-released.html">PHP-DI 4.4 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/12-php-di-is-better-with-php-5-6.html">PHP 5.6 is out and PHP-DI just got better</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/11-php-di-4-3-released.html">PHP-DI 4.3 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/10-php-di-4-2-released.html">PHP-DI 4.2 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/09-php-di-4-1-released.html">PHP-DI 4.1 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/08-10000-installs.html">10.000 installs!</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/07-php-di-4-0-released.html">PHP-DI 4.0 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/06-php-di-4-0-new-definitions.html">What will change in PHP-DI 4: the new definition format</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/05-php-di-3-5.html">PHP-DI 3.5 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/04-php-di-3-4.html">PHP-DI 3.4 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/03-php-di-3-3.html">PHP-DI 3.3 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/02-php-di-3-2.html">PHP-DI 3.2 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/01-php-di-3-1.html">PHP-DI 3.1 released</a>
                                </li>
                            </ul>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>


            <footer>
            <div class='pre-footer'>
                <div class='container'>
                    <p>
                        <strong>Unsatisfied with the documentation?</strong>
                        Please let us know, <a href="https://github.com/mnapoli/PHP-DI/issues/new">create an issue</a>,
                        we will greatly appreciate it.
                        You can chat with us on
                        <a href="https://twitter.com/phpdi">Twitter</a> or
                        <a href="https://gitter.im/mnapoli/PHP-DI">Gitter chat</a> too.
                    </p>
                </div>
            </div>
            <div class='deep-footer'>
                <div class='container'>
                    <div class='copyright'>
                        Copyright &copy; 2014 <a href="http://mnapoli.fr/">Matthieu Napoli</a>
                        Website generated with
                        <a href="http://mnapoli.fr/Couscous/" target="_blank">Couscous</a>.
                    </div>
                </div>
            </div>
        </footer>
    
                <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
        <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>
        <script src="http://php-di.org/js/template.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                $("section>p:first-child").addClass('lead');
                hljs.initHighlightingOnLoad();
            });
        </script>
    

    <script>
        // Disqus comments
        var disqus_shortname = 'phpdi';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>

    <script>
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-15584647-13']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Piwik -->
    <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
        _paq.push(["setCookieDomain", "*.php-di.org"]);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
            var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.mnapoli.fr/";
            _paq.push(['setTrackerUrl', u+'piwik.php']);
            _paq.push(['setSiteId', 2]);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
            g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <noscript><p><img src="http://piwik.mnapoli.fr/piwik.php?idsite=2" style="border:0;" alt="" /></p></noscript>
    <!-- End Piwik Code -->
</body>
</html>
