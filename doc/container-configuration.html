<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>PHP-DI - Dependency Injection Container for PHP</title>
    <meta name="description" content="PHP-DI is a Dependency Injection Container for PHP that intends to be practical and powerful">

    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/prettify-github.css">

    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/style.css">

    <!-- HTML5 Support for IE -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
</head>

<body>

    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="brand" href="http://mnapoli.github.io/PHP-DI/">PHP-DI</a>

                <div class="nav-collapse collapse">
                    <ul class="nav pull-right">
                        <li><a href="http://mnapoli.github.io/PHP-DI/">Home</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/news/">News</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/doc/getting-started">Getting started</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/doc/">Documentation</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/change-log">Change log</a></li>
                        <li><a href="https://github.com/mnapoli/PHP-DI"><i class="icon-github"></i>Github</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <header>

        <div class="title">

            <h1>
                PHP-DI
                <small>Dependency Injection Container for PHP</small>
            </h1>

        </div>

    </header>


    <!-- Main Content starts -->

    <div class="main">
        <div class="container-fluid">
<h1>Configuring the container</h1>

<h2>Development environment</h2>

<p>PHP-DI&#39;s container is preconfigured for &quot;plug&#39;n&#39;play&quot;, i.e. development environment. You can start using it simply like so:</p>

<pre><code class="php">$container = new \DI\Container();
</code></pre>

<p>By default, PHP-DI will use <code>Reflection</code> and <code>Annotation</code> <a href="definition">definition sources</a>.</p>

<p>To improve performances, you may want to use a simple Array cache. This kind of cache is cleared on every request, so you will not need to empty it manually when you change the code. It is also recommended to enable definition validation to detect errors as soon as possible.</p>

<pre><code class="php">$builder = new \DI\ContainerBuilder();
$builder-&gt;setDefinitionCache(new Doctrine\Common\Cache\ArrayCache());
$builder-&gt;setDefinitionsValidation(true);

$container = $builder-&gt;build();
</code></pre>

<h3>Adding a definition file</h3>

<p>If you defining injections in a file, use the container builder:</p>

<pre><code class="php">use DI\Definition\FileLoader\YamlDefinitionFileLoader;

$builder-&gt;addDefinitionsFromFile(new YamlDefinitionFileLoader(&#39;config/di.yml&#39;));
</code></pre>

<p>If you don&#39;t want to use Reflection or Annotations, disable them:</p>

<pre><code class="php">$builder-&gt;useReflection(false);
$builder-&gt;useAnnotations(false);
</code></pre>

<p>Read more about <a href="definition">definitions</a>.</p>

<h2>Production environment</h2>

<p>In production environment, you will of course favor speed:</p>

<pre><code class="php">$builder = new \DI\ContainerBuilder();
$builder-&gt;setDefinitionCache($cache);
$builder-&gt;writeProxiesToFile(true, &#39;tmp/proxies&#39;);
$builder-&gt;setDefinitionsValidation(false);

$container = $builder-&gt;build();
</code></pre>

<p>To choose a cache, read <a href="performances">the performances documentation</a>.</p>

<h2>Lightweight container</h2>

<p>If you want to use PHP-DI&#39;s container as a simple container, you will want to disable all extra features.</p>

<pre><code class="php">$builder = new \DI\ContainerBuilder();
$builder-&gt;useReflection(false);
$builder-&gt;useAnnotations(false);
$builder-&gt;setDefinitionsValidation(false);

$container = $builder-&gt;build();
</code></pre>
            <div class="github">
                PHP-DI is an open source project, you can contribute or seek help on
                <a class="btn btn-mini" href="https://github.com/mnapoli/PHP-DI/" target="_blank">
                    <i class="icon-github-alt"></i>
                    Github</a>
                or
                <a class="btn btn-mini" href="https://twitter.com/PHPDI" target="_blank">
                    <i class="icon-twitter"></i>
                    Twitter</a>
            </div>

        </div>
    </div>

    <!-- Main content ends -->

    <footer>
        <div class="container-fluid">
            <p class="copy">
                Copyright &copy; 2013 | <a href="http://mnapoli.fr/">Matthieu Napoli</a>
            </p>
            <p>
                Website generated by
                <a href="http://mnapoli.github.com/gh-pages-compiler/" target="_blank">gh-pages-compiler</a>.
            </p>
        </div>
    </footer>

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.2.1/bootstrap.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
    <script src="http://mnapoli.github.io/PHP-DI/js/template.js"></script>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-15584647-13']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>
