<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>PHP-DI - Dependency Injection Container for PHP</title>
    <meta name="description" content="PHP-DI is a Dependency Injection Container for PHP that intends to be practical and powerful">

    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/prettify-github.css">

    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/style.css">

    <!-- HTML5 Support for IE -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
</head>

<body>

    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="brand" href="http://mnapoli.github.io/PHP-DI/">PHP-DI</a>

                <div class="nav-collapse collapse">
                    <ul class="nav pull-right">
                        <li><a href="http://mnapoli.github.io/PHP-DI/">Home</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/doc/getting-started">Getting started</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/doc/">Documentation</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/change-log">Change log</a></li>
                        <li><a href="https://github.com/mnapoli/PHP-DI"><i class="icon-github"></i>Github</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <header>

        <div class="title">

            <h1>
                PHP-DI
                <small>Dependency Injection Container for PHP</small>
            </h1>

        </div>

    </header>


    <!-- Main Content starts -->

    <div class="main">
        <div class="container-fluid">
<h1>Scopes</h1>

<p>By default, PHP-DI returns the same instance each time it supplies a value. This behaviour is configurable via scopes.
Scopes allow you to reuse instances and gives you the flexibility to choose the scope of the objects you create through configuration instead of having to &#39;bake in&#39; the scope of an object at the PHP class level.</p>

<p>The scopes supported out of the box are listed below:</p>

<table><thead>
<tr>
<th>Scope</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>singleton (default)</td>
<td>The object instance is unique during the container&#39;s lifecycle - each injection by the container or explicit call of <code>get()</code> returns the same instance.</td>
</tr>
<tr>
<td>prototype</td>
<td>The object instance is not unique - each injection or call of the container&#39;s <code>get()</code> method returns a fresh instance.</td>
</tr>
</tbody></table>

<h2>Applying Scopes</h2>

<p>Scopes are part of the <a href="definition">definitions</a> of injections, so you can define them using annotations or PHP arrays.</p>

<h3>Annotation</h3>

<p>You can specify the scope by using the <code>@Injectable</code> annotation on the target class.
Remember singleton is the scope used if it is not configured.</p>

<pre><code class="php">use DI\Annotation\Injectable;

/**
 * @Injectable(scope=&quot;prototype&quot;)
 */
class MyService {
    // ...
}
</code></pre>

<h3>Array configuration</h3>

<p>You can specify the scope by using the <code>scope</code> key in the array describing the class:</p>

<pre><code class="php">&lt;?php
return [
    &#39;MyService&#39; =&gt; [
        &#39;scope&#39; =&gt; Scope::PROTOTYPE(),
        // or
        &#39;scope&#39; =&gt; &#39;prototype&#39;,
    ],
];
</code></pre>
            <div class="github">
                PHP-DI is an open source project, you can contribute or seek help on
                <a class="btn btn-mini" href="https://github.com/mnapoli/PHP-DI/" target="_blank">
                    <i class="icon-github-alt"></i>
                    Github</a>
                or
                <a class="btn btn-mini" href="https://twitter.com/PHPDI" target="_blank">
                    <i class="icon-twitter"></i>
                    Twitter</a>
            </div>

        </div>
    </div>

    <!-- Main content ends -->

    <footer>
        <div class="container-fluid">
            <p class="copy">
                Copyright &copy; 2013 | <a href="http://mnapoli.fr/">Matthieu Napoli</a>
            </p>
            <p>
                Website generated by
                <a href="http://mnapoli.github.com/gh-pages-compiler/" target="_blank">gh-pages-compiler</a>.
            </p>
        </div>
    </footer>

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.2.1/bootstrap.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
    <script src="http://mnapoli.github.io/PHP-DI/js/template.js"></script>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-15584647-13']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>
