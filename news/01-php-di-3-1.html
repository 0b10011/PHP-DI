<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>PHP-DI - Dependency Injection Container for PHP</title>
    <meta name="description" content="PHP-DI is a Dependency Injection Container for PHP that intends to be practical and powerful">

    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/prettify-github.css">

    <link rel="stylesheet" href="http://mnapoli.github.io/PHP-DI/css/style.css">

    <!-- HTML5 Support for IE -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
</head>

<body>

    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="brand" href="http://mnapoli.github.io/PHP-DI/">PHP-DI</a>

                <div class="nav-collapse collapse">
                    <ul class="nav pull-right">
                        <li><a href="http://mnapoli.github.io/PHP-DI/">Home</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/news/">News</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/doc/getting-started">Getting started</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/doc/">Documentation</a></li>
                        <li><a href="http://mnapoli.github.io/PHP-DI/change-log">Change log</a></li>
                        <li><a href="https://github.com/mnapoli/PHP-DI"><i class="icon-github"></i>Github</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <header>

        <div class="title">

            <h1>
                PHP-DI
                <small>Dependency Injection Container for PHP</small>
            </h1>

        </div>

    </header>


    <!-- Main Content starts -->

    <div class="main">
        <div class="container-fluid">
<h1>PHP-DI 3.1 released</h1>

<p><em>Posted by <a href="https://github.com/mnapoli">Matthieu Napoli</a> on June 23rd 2013</em></p>

<p>I am happy to announce that I have just released PHP-DI version 3.1.</p>

<p>The major new feature is the <strong>Zend Framework 1 integration</strong>. You can now use PHP-DI very easily with ZF1, and the integration will provide you dependency injection into your controllers.</p>

<p>Mixing different definition sources (reflection, annotations, files, …) is now more reliable with orders and priorities. Sources are all now correctly priorized, allowing you to override definitions as you would expect. Read more in the <a href="doc/definition-overriding"><strong>Definition overriding</strong> documentation</a>.</p>

<p>Finally, <a href="https://github.com/mnapoli/PHP-DI/issues/79">a small fix</a> to allow to <strong>define <code>null</code> entries</strong>:</p>

<pre><code class="php">// Set a null value for &#39;foo&#39;
$container-&gt;set(&#39;foo&#39;, null);

// No change: without a value given, returns a class definition helper
$container-&gt;set(&#39;foo&#39;)
    -&gt;bindTo(&#39;My\Foo\Class&#39;)
    -&gt;withConstructor(array(&#39;SomeClass&#39;));
</code></pre>

<h2>Zend Framework 1 integration</h2>

<p>To set up your ZF1 project, you can install the dependencies with <a href="http://getcomposer.org/">Composer</a>:</p>

<pre><code class="php">{
    &quot;require&quot;: {
        &quot;mnapoli/php-di&quot;: &quot;3.1.*&quot;,
        &quot;mnapoli/php-di-zf1&quot;: &quot;*&quot;
    }
}
</code></pre>

<p>In your bootstrap, you only need to replace the default Dispatcher with the one provided into <code>mnapoli/php-di-zf1</code>:</p>

<pre><code class="php">    protected function _initDependencyInjection() {
        $container = new \DI\Container();

        $dispatcher = new \DI\ZendFramework1\Dispatcher();
        $dispatcher-&gt;setContainer($container);

        Zend_Controller_Front::getInstance()-&gt;setDispatcher($dispatcher);
    }
</code></pre>

<p>Easy right? Now you can inject dependencies into your controllers.</p>

<p>Here is an example using annotations (you can&#39;t use constructor injection though since ZF1 controllers have a specific constructor):</p>

<pre><code class="php">use DI\Annotation\Inject;

class GuestbookController extends Zend_Controller_Action
{
    /**
     * @Inject
     * @var Application_Service_GuestbookService
     */
    private $guestbookService;

    public function signAction()
    {
        $form = new Application_Form_Guestbook();
        $this-&gt;guestbookService-&gt;addEntry($form-&gt;getValues());
    }
}
</code></pre>

<p>Read more about <a href="https://github.com/mnapoli/PHP-DI-ZF1">Zend Framework 1 integration</a>.</p>

<h2>Integration with other frameworks (Symfony, ZF2, …)</h2>

<p>Integration with other frameworks <a href="https://github.com/mnapoli/PHP-DI/issues?state=open">are planned</a>.</p>

<p>If you want to help, feel free to submit a pull request or let&#39;s talk on <a href="https://twitter.com/PHPDI">Twitter</a>.</p>
            <div class="github">
                PHP-DI is an open source project, you can contribute or seek help on
                <a class="btn btn-mini" href="https://github.com/mnapoli/PHP-DI/" target="_blank">
                    <i class="icon-github-alt"></i>
                    Github</a>
                or
                <a class="btn btn-mini" href="https://twitter.com/PHPDI" target="_blank">
                    <i class="icon-twitter"></i>
                    Twitter</a>
            </div>

        </div>
    </div>

    <!-- Main content ends -->

    <footer>
        <div class="container-fluid">
            <p class="copy">
                Copyright &copy; 2013 | <a href="http://mnapoli.fr/">Matthieu Napoli</a>
            </p>
            <p>
                Website generated by
                <a href="http://mnapoli.github.com/gh-pages-compiler/" target="_blank">gh-pages-compiler</a>.
            </p>
        </div>
    </footer>

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.2.1/bootstrap.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
    <script src="http://mnapoli.github.io/PHP-DI/js/template.js"></script>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-15584647-13']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>
