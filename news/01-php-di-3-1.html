<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">

    <title>PHP-DI - The Dependency Injection Container for humans</title>
    <meta name="description" content="PHP-DI is a Dependency Injection Container for PHP that intends to be practical and powerful">

    <link rel="canonical" href="http://php-di.org" />

            <link href="http://php-di.org/css/bootstrap-theme_venera.min.css" media="all" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Abel:400|Oswald:300,400,700" media="all" rel="stylesheet" type="text/css">
        <link href="http://php-di.org/css/highlight.github.css" rel="stylesheet">
        <link href="http://php-di.org/css/custom.css" rel="stylesheet">
    
    <script>
        if (window.location.href.indexOf('http://mnapoli.fr') === 0) {
            window.location.href = 'http://php-di.org';
        }
    </script>
</head>
<body>

    <header id='header'>
        <div class='navbar navbar-fixed-top'>
            <div class='navbar-inner'>
                <div class='container'>
                    <a class='btn btn-navbar' data-target='.nav-collapse' data-toggle='collapse'>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                    </a>
                    <a href="http://php-di.org/index.html" class="brand">PHP-DI</a>

                    <div class='nav-collapse subnav-collapse collapse pull-right' id='top-navigation'>
                        <ul class='nav'>
                            <li><a href="http://php-di.org/">Home</a></li>
                            <li><a href="http://php-di.org/news/">News</a></li>
                            <li><a href="http://php-di.org/doc/getting-started.html">Getting started</a></li>
                            <li><a href="http://php-di.org/doc/">Documentation</a></li>
                            <li><a href="http://php-di.org/change-log.html">Change log</a></li>
                            <li><a href="https://github.com/mnapoli/PHP-DI"><i class="icon-github"></i> Github</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    
    <section class='section-wrapper post-w'>
        <div class='container'>
            <div class='row'>

                <div class='span8'>

                    
    <div class='single-post-w'>
        <h1 class='post-title'>PHP-DI 3.1 released</h1>

        <p class='post-info'>
            <span class='info-item'>
              Posted by Matthieu Napoli
            </span>
            <span class='info-item'>June 23rd 2013</span>
        </p>
        <div class='post-content'>
            <p>I am happy to announce that I have just released PHP-DI version 3.1.</p>
<p>The major new feature is the <strong>Zend Framework 1 integration</strong>. You can now use PHP-DI very easily with ZF1, and the integration will provide you dependency injection into your controllers.</p>
<p>Mixing different definition sources (reflection, annotations, files, …) is now more reliable with orders and priorities. Sources are all now correctly priorized, allowing you to override definitions as you would expect. Read more in the <a href="../doc/definition-overriding.html"><strong>Definition overriding</strong> documentation</a>.</p>
<p>Finally, <a href="https://github.com/mnapoli/PHP-DI/issues/79">a small fix</a> to allow to <strong>define <code>null</code> entries</strong>:</p>
<pre><code class="language-php">// Set a null value for 'foo'
$container-&gt;set('foo', null);

// No change: without a value given, returns a class definition helper
$container-&gt;set('foo')
    -&gt;bindTo('My\Foo\Class')
    -&gt;withConstructor(array('SomeClass'));</code></pre>
<h2>Zend Framework 1 integration</h2>
<p>To set up your ZF1 project, you can install the dependencies with <a href="http://getcomposer.org/">Composer</a>:</p>
<pre><code class="language-php">{
    "require": {
        "mnapoli/php-di": "3.1.*",
        "mnapoli/php-di-zf1": "*"
    }
}</code></pre>
<p>In your bootstrap, you only need to replace the default Dispatcher with the one provided into <code>mnapoli/php-di-zf1</code>:</p>
<pre><code class="language-php">    protected function _initDependencyInjection() {
        $container = new \DI\Container();

        $dispatcher = new \DI\ZendFramework1\Dispatcher();
        $dispatcher-&gt;setContainer($container);

        Zend_Controller_Front::getInstance()-&gt;setDispatcher($dispatcher);
    }</code></pre>
<p>Easy right? Now you can inject dependencies into your controllers.</p>
<p>Here is an example using annotations (you can't use constructor injection though since ZF1 controllers have a specific constructor):</p>
<pre><code class="language-php">use DI\Annotation\Inject;

class GuestbookController extends Zend_Controller_Action
{
    /**
     * @Inject
     * @var Application_Service_GuestbookService
     */
    private $guestbookService;

    public function signAction()
    {
        $form = new Application_Form_Guestbook();
        $this-&gt;guestbookService-&gt;addEntry($form-&gt;getValues());
    }
}</code></pre>
<p>Read more about <a href="https://github.com/mnapoli/PHP-DI-ZF1">Zend Framework 1 integration</a>.</p>
<h2>Integration with other frameworks (Symfony, ZF2, …)</h2>
<p>Integration with other frameworks <a href="https://github.com/mnapoli/PHP-DI/issues?state=open">are planned</a>.</p>
<p>If you want to help, feel free to submit a pull request or let's talk on <a href="https://twitter.com/PHPDI">Twitter</a>.</p>
        </div>
    </div>

    <div class='post-comments-w'>
        <h3 class='section-header'>
            Comments
        </h3>
        <div id="disqus_thread"></div>
        <noscript>
            Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
    </div>


                </div>

                <div class='span4'>
                    <div class='blog-side-bar'>

                        <div class='blog-categories widget-tp'>
                            <h3>
                                <i class='icon-th-list'></i>
                                Latest posts
                            </h3>
                            <ul>
                                <li>
                                    <a href="http://php-di.org/news/11-php-di-4-3-released.html">PHP-DI 4.3 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/10-php-di-4-2-released.html">PHP-DI 4.2 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/09-php-di-4-1-released.html">PHP-DI 4.1 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/08-10000-installs.html">10.000 installs!</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/07-php-di-4-0-released.html">PHP-DI 4.0 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/06-php-di-4-0-new-definitions.html">What will change in PHP-DI 4: the new definition format</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/05-php-di-3-5.html">PHP-DI 3.5 released</a>
                                </li>
                                <li>
                                    <a href="http://php-di.org/news/04-php-di-3-4.html">PHP-DI 3.4 released</a>
                                </li>
                            </ul>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>


            <footer>
            <div class='pre-footer'>
                <div class='container'>
                    <p>
                        <strong>Unsatisfied with the documentation?</strong>
                        Please let us know, <a href="https://github.com/mnapoli/PHP-DI/issues/new">create an issue</a>,
                        we will greatly appreciate it.
                        You can chat with us on
                        <a href="https://twitter.com/phpdi">Twitter</a> or
                        <a href="https://gitter.im/mnapoli/PHP-DI">Gitter chat</a> too.
                    </p>
                </div>
            </div>
            <div class='deep-footer'>
                <div class='container'>
                    <div class='copyright'>
                        Copyright &copy; 2014 <a href="http://mnapoli.fr/">Matthieu Napoli</a>
                        Website generated with
                        <a href="http://mnapoli.fr/Couscous/" target="_blank">Couscous</a>.
                    </div>
                </div>
            </div>
        </footer>
    
                <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
        <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>
        <script src="http://php-di.org/js/template.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                $("section>p:first-child").addClass('lead');
                hljs.initHighlightingOnLoad();
            });
        </script>
    

    <script>
        // Disqus comments
        var disqus_shortname = 'phpdi';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>

    <script>
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-15584647-13']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Piwik -->
    <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
        _paq.push(["setCookieDomain", "*.php-di.org"]);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
            var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.mnapoli.fr/";
            _paq.push(['setTrackerUrl', u+'piwik.php']);
            _paq.push(['setSiteId', 2]);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
            g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <noscript><p><img src="http://piwik.mnapoli.fr/piwik.php?idsite=2" style="border:0;" alt="" /></p></noscript>
    <!-- End Piwik Code -->
</body>
</html>
